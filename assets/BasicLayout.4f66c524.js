import{B as ae,C as L,D as z,g as B,d as v,f as o,a as r,z as f,w as n,b as e,F as I,e as l,t as D,c as b,G as C,H as k,j as P,u as _,p as U,q as M,I as q,J as j,r as H,l as A,K as ce,v as K,x as W,_ as G,L as _e,T as ie,M as de,N as J,O as T,P as V}from"./index.5404a7ca.js";const y=ae("appStore",()=>{let p=L("isFold",!1),t=z(()=>p.value?"65px":"200px"),i=B(0),u=B(!1),s=L("interfaceSettings",{crumbsSwitch:!0,tabBarSwitch:!0,footerSwitch:!0}),a=B();function d(m){i.value=m}return{isFold:p,menuWidth:t,currentLayout:i,drawer:u,interfaceSettings:s,appTabsRef:a,setCurrentLayout:d}}),pe=v({__name:"SubMenu",props:{menu:{type:Object,required:!0}},setup(p){const t=p;return(i,u)=>{const s=o("ElIcon"),a=o("SubMenu",!0),d=o("ElSubMenu"),m=o("ElMenuItem");return t.menu.children&&t.menu.children.length>0?(r(),f(d,{key:0,index:t.menu.path},{title:n(()=>[e(s,null,{default:n(()=>[(r(),f(I(t.menu.meta.icon)))]),_:1}),l("span",null,D(t.menu.meta.title),1)]),default:n(()=>[(r(!0),b(C,null,k(t.menu.children,c=>(r(),f(a,{key:c.path,menu:c},null,8,["menu"]))),128))]),_:1},8,["index"])):(r(),f(m,{key:1,index:t.menu.path},{default:n(()=>[e(s,null,{default:n(()=>[(r(),f(I(t.menu.meta.icon)))]),_:1}),l("span",null,D(t.menu.meta.title),1)]),_:1},8,["index"]))}}}),N=v({__name:"AppMenu",setup(p){const t=U(),i=M(),u=y(),s=P();function a(c){/^(?:(http|https|ftp):\/\/)?((?:[\w-]+\.)+[a-z0-9]+)((?:\/[^/?#]*)+)?(\?[^#]+)?(#.+)?$/i.test(c)?window.open(c):t.push({path:c})}const d=z(()=>m(q));function m(c){return c.map(h=>({...h})).filter(h=>{h.children&&h.children.length>0&&(h.children=m(h.children));let E=h.meta.hidden!==!0;return(h.meta.roles?h.meta.roles.includes(s.userInfo.role):!0)&&E})}return(c,h)=>{const E=o("ElMenu");return r(),f(E,{onSelect:a,collapse:_(u).isFold,"collapse-transition":!1,"default-active":_(i).path,mode:_(u).currentLayout==2?"horizontal":"vertical",ellipsis:!0},{default:n(()=>[(r(!0),b(C,null,k(_(d),w=>(r(),f(pe,{key:w.path,menu:w},null,8,["menu"]))),128))]),_:1},8,["collapse","default-active","mode"])}}}),fe=v({__name:"MenuFold",setup(p){const t=y();return(i,u)=>{const s=o("Expand"),a=o("Fold"),d=o("ElIcon");return r(),f(d,{size:"25px",onClick:u[0]||(u[0]=m=>_(t).isFold=!_(t).isFold),class:"cursor-pointer"},{default:n(()=>[_(t).isFold?(r(),f(s,{key:0})):(r(),f(a,{key:1}))]),_:1})}}}),me={class:"flex space-x-1"},he=v({__name:"AppCrumbs",setup(p){const t=M(),i=z(()=>t.matched.filter(u=>u.meta&&u.meta.title).map(u=>({name:u.name,path:u.path,title:u.meta.title,icon:u.meta.icon,to:u.redirect||""})));return(u,s)=>{const a=o("ElIcon"),d=o("ElBreadcrumbItem"),m=o("ElBreadcrumb");return r(),b("div",null,[e(m,{"separator-icon":"ArrowRight",class:"mx-3"},{default:n(()=>[(r(!0),b(C,null,k(_(i),c=>(r(),f(d,{to:c.to,key:c.path},{default:n(()=>[l("div",me,[e(a,null,{default:n(()=>[(r(),f(I(c.icon)))]),_:2},1024),l("span",null,D(c.title),1)])]),_:2},1032,["to"]))),128))]),_:1})])}}}),Ee={class:"h-full flex items-center"},ve=v({__name:"ToolBarleft",setup(p){const t=y();return(i,u)=>(r(),b("div",Ee,[e(fe),_(t).interfaceSettings.crumbsSwitch?(r(),f(he,{key:0})):j("",!0)]))}}),be=v({__name:"IconFullScreen",setup(p){let t=B(!1);function i(){t.value=!t.value,t.value?document.documentElement.requestFullscreen():document.exitFullscreen()}return(u,s)=>{const a=o("FullScreen"),d=o("ElIcon");return r(),f(d,{onClick:i,class:"cursor-pointer"},{default:n(()=>[e(a)]),_:1})}}}),we={class:"mx-3 cursor-pointer"},xe={class:"border-b h-10 flex items-center justify-between px-3"},Fe=l("div",null,"\u6D88\u606F",-1),ye=l("div",{class:"flex space-x-3"},[l("div",{class:"cursor-pointer"},"\u5168\u90E8\u6E05\u7A7A")],-1),Se={class:"h-[150px] w-[100%]"},Ce={class:"w-[30px]"},ge={class:"flex-1 flex justify-between space-x-3"},De={class:"truncate"},$e={class:"w-[60px]"},Ie=v({__name:"IconMessage",setup(p){const t=H([{info:"\u4F60\u6709\u4E00\u6761\u4FE1\u606F\uFF0C\u8BF7\u6CE8\u610F\u67E5\u6536",time:"1\u5206\u949F\u524D"},{info:"\u4F60\u6709\u4E00\u6761\u4FE1\u606F\uFF0C\u8BF7\u6CE8\u610F\u67E5\u6536",time:"1\u5C0F\u65F6\u524D"},{info:"\u4F60\u6709\u4E00\u6761\u4FE1\u606F\uFF0C\u8BF7\u6CE8\u610F\u67E5\u6536",time:"1\u5929\u524D"},{info:"\u4F60\u6709\u4E00\u6761\u4FE1\u606F\uFF0C\u8BF7\u6CE8\u610F\u67E5\u6536",time:"1\u5929\u524D"},{info:"\u4F60\u6709\u4E00\u6761\u4FE1\u606F\uFF0C\u8BF7\u6CE8\u610F\u67E5\u6536",time:"1\u5929\u524D"},{info:"\u4F60\u6709\u4E00\u6761\u4FE1\u606F\uFF0C\u8BF7\u6CE8\u610F\u67E5\u6536",time:"1\u5929\u524D"}]);return(i,u)=>{const s=o("Bell"),a=o("ElIcon"),d=o("ElBadge"),m=o("el-avatar"),c=o("ElScrollbar"),h=o("ElPopover");return r(),f(h,{width:"320px",trigger:"click"},{reference:n(()=>[l("div",we,[e(d,{"is-dot":!0},{default:n(()=>[e(a,{size:"20px"},{default:n(()=>[e(s)]),_:1})]),_:1})])]),default:n(()=>[l("div",null,[l("div",xe,[e(d,{value:t.length},{default:n(()=>[Fe]),_:1},8,["value"]),ye]),l("div",Se,[e(c,null,{default:n(()=>[(r(!0),b(C,null,k(t,(E,w)=>(r(),b("div",{key:w,class:"flex items-center space-x-3 h-10 w-[100%] py-3"},[l("div",Ce,[e(m,{icon:"UserFilled",size:30})]),l("div",ge,[l("div",De,D(E.info),1),l("div",$e,D(E.time),1)])]))),128))]),_:1})])])]),_:1})}}}),Be={class:"flex items-center"},ke={class:"flex items-center justify-center w-7 h-7 rounded-full bg-gray-400"},Ae={class:"mx-2"},Me=v({__name:"IconAvatar",setup(p){const t=P(),i=y();function u(){var s;t.off(),(s=i.appTabsRef)==null||s.restore()}return(s,a)=>{const d=o("ElAvatar"),m=o("ArrowDown"),c=o("ElIcon"),h=o("ElDropdownItem"),E=o("ElDropdownMenu"),w=o("ElDropdown");return r(),f(w,{class:"cursor-pointer",trigger:"click"},{dropdown:n(()=>[e(E,null,{default:n(()=>[e(h,{icon:"SwitchButton",onClick:u},{default:n(()=>[A("\u9000\u51FA\u767B\u9646")]),_:1})]),_:1})]),default:n(()=>[l("div",Be,[l("div",ke,[e(d,{class:"w-7 h-7",src:_(t).userInfo.portrait},null,8,["src"])]),l("div",Ae,D(_(t).userInfo.name),1),e(c,null,{default:n(()=>[e(m)]),_:1})])]),_:1})}}}),Re=v({__name:"IconLayout",setup(p){const t=y();return(i,u)=>{const s=o("Operation"),a=o("ElIcon");return r(),f(a,{onClick:u[0]||(u[0]=d=>_(t).drawer=!_(t).drawer),class:"cursor-pointer"},{default:n(()=>[e(s)]),_:1})}}}),Te={class:"flex items-center justify-between h-full space-x-3"},Q=v({__name:"ToolBarRight",setup(p){return(t,i)=>(r(),b("div",Te,[e(Re),e(be),e(Ie),e(Me)]))}}),X=v({__name:"AppHeader",setup(p){return(t,i)=>(r(),b(C,null,[e(ve),e(Q)],64))}}),Y=p=>(K("data-v-fad6aba9"),p=p(),W(),p),Ve={class:"flex justify-between items-center p-2 border-b"},Le=Y(()=>l("span",null,"\u5173\u95ED\u5176\u4ED6\u9875\u9762",-1)),je=Y(()=>l("span",null,"\u5173\u95ED\u6240\u6709\u9875\u9762",-1)),ze=v({__name:"AppTabs",emits:["refresh"],setup(p,{expose:t,emit:i}){const u=M(),s=U(),a=L("tabsData",[{path:"/home",icon:"HomeFilled",title:"\u9996\u9875",closable:!1}]);ce(()=>u.path,()=>{a.value.find(x=>x.path==u.path)||a.value.push({path:u.path,icon:u.meta.icon,title:u.meta.title,closable:u.meta.closable})});function d(x){s.push({path:x})}function m(x){let g=a.value.findIndex(F=>F.path==x);x===u.path&&(g===a.value.length-1?s.push({path:a.value[g-1].path}):s.push({path:a.value[g+1].path})),a.value.splice(g,1)}function c(){w(),s.push({path:"/home"})}function h(){a.value=a.value.filter(x=>x.path===u.path||!x.closable)}function E(){i("refresh")}function w(){a.value.splice(1)}return t({data:a,restore:w}),(x,g)=>{const F=o("ElIcon"),Z=o("ElTabPane"),ee=o("ElTabs"),te=o("ArrowDown"),ne=o("ElButton"),oe=o("Refresh"),R=o("ElDropdownItem"),se=o("CircleClose"),le=o("FolderDelete"),ue=o("ElDropdownMenu"),re=o("ElDropdown");return r(),b("div",Ve,[e(ee,{"model-value":_(u).path,type:"card",onTabChange:d,onTabRemove:m,class:"h-[30px]"},{default:n(()=>[(r(!0),b(C,null,k(_(a),$=>(r(),f(Z,{label:$.title,name:$.path,key:$.path,closable:$.closable!==!1,class:"boder-y-0"},{label:n(()=>[l("span",null,[e(F,{class:"mr-1 reactive top-[1px]"},{default:n(()=>[(r(),f(I($.icon)))]),_:2},1024),l("span",null,D($.title),1)])]),_:2},1032,["label","name","closable"]))),128))]),_:1},8,["model-value"]),e(re,{trigger:"click"},{dropdown:n(()=>[e(ue,null,{default:n(()=>[e(R,null,{default:n(()=>[e(F,null,{default:n(()=>[e(oe)]),_:1}),l("span",{onClick:E},"\u5237\u65B0\u5F53\u524D\u9875\u9762")]),_:1}),e(R,{divided:!0,onClick:h},{default:n(()=>[e(F,null,{default:n(()=>[e(se)]),_:1}),Le]),_:1}),e(R,{divided:!0,onClick:c},{default:n(()=>[e(F,null,{default:n(()=>[e(le)]),_:1}),je]),_:1})]),_:1})]),default:n(()=>[e(ne,{type:"primary",size:"small"},{default:n(()=>[A(" \u66F4\u591A "),e(F,null,{default:n(()=>[e(te)]),_:1})]),_:1})]),_:1})])}}});const He=G(ze,[["__scopeId","data-v-fad6aba9"]]),O=v({__name:"AppMain",setup(p){const t=M(),i=y();let u=B(d(q)),s=H({}),a=_e(i,"appTabsRef");function d(c,h=[]){return c.forEach(E=>{E.children&&E.children.length>0?d(E.children,h):E.meta&&E.meta.keepAlive&&(h.includes(E.name)||h.push(E.name))}),h}function m(){s[t.path]=new Date().getTime()}return(c,h)=>{const E=o("RouterView"),w=o("ElMain"),x=o("ElFooter");return r(),b(C,null,[_(i).interfaceSettings.tabBarSwitch?(r(),f(He,{key:0,onRefresh:m,ref_key:"tabsRef",ref:a},null,512)):j("",!0),e(w,{class:"p-2 bg-gray-200"},{default:n(()=>[e(E,{class:"p-3"},{default:n(({Component:g,route:F})=>[e(ie,{name:"el-fade-in-linear",mode:"out-in"},{default:n(()=>[(r(),f(de,{include:_(u)},[(r(),f(I(g),{key:_(s)[F.path]||F.path}))],1032,["include"]))]),_:2},1024)]),_:1})]),_:1}),_(i).interfaceSettings.footerSwitch?(r(),f(x,{key:1,class:"border border-x-0 h-10"})):j("",!0)],64)}}}),Ne=v({__name:"verticalLayout",setup(p){const t=y();return(i,u)=>{const s=o("ElScrollbar"),a=o("ElAside"),d=o("ElHeader"),m=o("ElContainer");return r(),f(m,{class:"h-full"},{default:n(()=>[e(a,{width:"200px",class:"h-full overflow-hidden border-r",style:J({width:_(t).menuWidth})},{default:n(()=>[e(s,null,{default:n(()=>[e(N,{class:"border-r-0"})]),_:1})]),_:1},8,["style"]),e(m,null,{default:n(()=>[e(d,{class:"flex justify-between border-b h-10"},{default:n(()=>[e(X)]),_:1}),e(O)]),_:1})]),_:1})}}}),Oe=v({__name:"StandardLayout",setup(p){const t=y();return(i,u)=>{const s=o("ElHeader"),a=o("ElScrollbar"),d=o("ElAside"),m=o("ElContainer");return r(),f(m,{class:"overflow-hidden h-full"},{default:n(()=>[e(s,{class:"flex justify-between border h-10"},{default:n(()=>[e(X)]),_:1}),e(m,{class:"h-full overflow-hidden"},{default:n(()=>[e(d,{width:"200px",class:"h-full border-r",style:J({width:_(t).menuWidth})},{default:n(()=>[e(a,{class:"h-full"},{default:n(()=>[e(N,{class:"border-r-0"})]),_:1})]),_:1},8,["style"]),e(m,{direction:"vertical"},{default:n(()=>[e(O)]),_:1})]),_:1})]),_:1})}}}),Pe=v({__name:"HorizontalLayout",setup(p){return(t,i)=>{const u=o("ElHeader"),s=o("ElContainer");return r(),f(s,{class:"h-full"},{default:n(()=>[e(u,{class:"flex justify-between border"},{default:n(()=>[e(N,{class:"flex-1 overflow-hidden border-0"}),e(Q)]),_:1}),e(O)]),_:1})}}}),S=p=>(K("data-v-9b25d9e7"),p=p(),W(),p),Ue={class:"border-t w-[100%] h-[100%] p-3"},qe={class:"h-[80px] flex justify-around items-center"},Ke=S(()=>l("div",{class:"w-[100%] h-4 border-2 rounded mb-1"},null,-1)),We=S(()=>l("div",{class:"flex"},[l("div",{class:"w-5 h-7 border-2 rounded mr-1"}),l("div",{class:"flex-1 h-7 border-2 rounded"})],-1)),Ge=[Ke,We],Je=S(()=>l("div",{class:"w-5 h-[100%] border-2 rounded mr-1"},null,-1)),Qe=S(()=>l("div",{class:"flex-1 h-[100%]"},[l("div",{class:"w-[100%] h-4 border-2 mb-1 rounded"}),l("div",{class:"w-[100%] h-7 border-2 rounded"})],-1)),Xe=[Je,Qe],Ye=S(()=>l("div",{class:"w-[100%] h-4 border-2 rounded mb-1"},null,-1)),Ze=S(()=>l("div",{class:"w-[100%] h-7 border-2 rounded"},null,-1)),et=[Ye,Ze],tt={class:"px-2 space-y-3"},nt={class:"flex justify-between items-center"},ot=S(()=>l("div",{class:"text-sm"},"\u9762\u5305\u5C51",-1)),st={class:"flex justify-between items-center"},lt=S(()=>l("div",{class:"text-sm"},"\u6807\u7B7E\u680F",-1)),ut={class:"flex justify-between items-center"},rt=S(()=>l("div",{class:"text-sm"},"\u9875\u811A",-1)),at=v({__name:"SystemDrawer",setup(p){const t=y();function i(u){t.setCurrentLayout(u)}return(u,s)=>{const a=o("ElDivider"),d=o("el-switch"),m=o("ElDrawer");return r(),b("div",null,[e(m,{modelValue:_(t).drawer,"onUpdate:modelValue":s[6]||(s[6]=c=>_(t).drawer=c),title:"\u5E03\u5C40\u8BBE\u7F6E",size:"300px"},{default:n(()=>[l("div",Ue,[l("div",null,[e(a,{"content-position":"center"},{default:n(()=>[A("\u5E03\u5C40\u5207\u6362")]),_:1}),l("div",qe,[l("div",{class:T(["w-[80px] h-[60px] border-2 rounded p-1 cursor-pointer",{active:_(t).currentLayout===0}]),onClick:s[0]||(s[0]=c=>i(0))},Ge,2),l("div",{class:T(["w-[80px] h-[60px] border-2 rounded flex items-center p-1 cursor-pointer",{active:_(t).currentLayout===1}]),onClick:s[1]||(s[1]=c=>i(1))},Xe,2),l("div",{class:T(["w-[80px] h-[60px] border-2 rounded p-1 cursor-pointer",{active:_(t).currentLayout===2}]),onClick:s[2]||(s[2]=c=>i(2))},et,2)])]),l("div",null,[e(a,{"content-position":"center"},{default:n(()=>[A("\u754C\u9762\u8BBE\u7F6E")]),_:1}),l("div",tt,[l("div",nt,[ot,e(d,{modelValue:_(t).interfaceSettings.crumbsSwitch,"onUpdate:modelValue":s[3]||(s[3]=c=>_(t).interfaceSettings.crumbsSwitch=c)},null,8,["modelValue"])]),l("div",st,[lt,e(d,{modelValue:_(t).interfaceSettings.tabBarSwitch,"onUpdate:modelValue":s[4]||(s[4]=c=>_(t).interfaceSettings.tabBarSwitch=c)},null,8,["modelValue"])]),l("div",ut,[rt,e(d,{modelValue:_(t).interfaceSettings.footerSwitch,"onUpdate:modelValue":s[5]||(s[5]=c=>_(t).interfaceSettings.footerSwitch=c)},null,8,["modelValue"])])])])])]),_:1},8,["modelValue"])])}}});const ct=G(at,[["__scopeId","data-v-9b25d9e7"]]),it=v({__name:"BasicLayout",setup(p){const t=y(),i=H([{type:V(Oe)},{type:V(Ne)},{type:V(Pe)}]);return(u,s)=>(r(),b(C,null,[(r(),f(I(i[_(t).currentLayout].type))),e(ct)],64))}});export{it as default};
